import{c as a,I as K,d as Oe,o as Ce,y as W,k as E,w as n,r as d,e as h,f as S,g as s,b as z,h as _,t as V,j as q,i as g,F as xe,H as Pe,J as ie,R as ze,n as Ie,u as Ue,s as Ne}from"./index-BIiVSCif.js";import{u as Ve}from"./PeerHttpUtil-m59UYI9_.js";import{u as Ae}from"./index-ikIEMzkK.js";import{L as Le}from"./LinkOutlined-CMtgv86P.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logger-CUkP4sI-.js";import"./networkLogDB-BlD6FS5Z.js";import"./cryptoManager-B5C1ax7v.js";var Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"};function ue(o){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?Object(arguments[l]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),i.forEach(function(c){$e(o,c,t[c])})}return o}function $e(o,l,t){return l in o?Object.defineProperty(o,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[l]=t,o}var Q=function(l,t){var i=ue({},l,t.attrs);return a(K,ue({},i,{icon:Me}),null)};Q.displayName="SafetyCertificateOutlined";Q.inheritAttrs=!1;var De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};function ce(o){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?Object(arguments[l]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),i.forEach(function(c){Te(o,c,t[c])})}return o}function Te(o,l,t){return l in o?Object.defineProperty(o,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[l]=t,o}var X=function(l,t){var i=ce({},l,t.attrs);return a(K,ce({},i,{icon:De}),null)};X.displayName="SaveOutlined";X.inheritAttrs=!1;var Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};function ve(o){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?Object(arguments[l]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),i.forEach(function(c){Be(o,c,t[c])})}return o}function Be(o,l,t){return l in o?Object.defineProperty(o,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[l]=t,o}var Y=function(l,t){var i=ve({},l,t.attrs);return a(K,ve({},i,{icon:Fe}),null)};Y.displayName="ThunderboltOutlined";Y.inheritAttrs=!1;var He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};function de(o){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?Object(arguments[l]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),i.forEach(function(c){Re(o,c,t[c])})}return o}function Re(o,l,t){return l in o?Object.defineProperty(o,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[l]=t,o}var Z=function(l,t){var i=de({},l,t.attrs);return a(K,de({},i,{icon:He}),null)};Z.displayName="UserOutlined";Z.inheritAttrs=!1;const Ee={class:"settings-container"},Ke={class:"avatar-section"},Je={class:"avatar-actions"},Ge={class:"network-acceleration-section"},We={class:"status-info"},qe={class:"network-logging-section"},Qe={class:"status-info"},Xe={style:{"margin-top":"8px"}},Ye={class:"device-check-section"},Ze={class:"status-info"},et={class:"crypto-section"},tt={key:0,class:"crypto-not-initialized"},at={key:1,class:"crypto-keys-container"},nt={class:"key-section"},lt={class:"key-display"},ot={class:"key-text"},st={class:"key-section"},rt={class:"key-display"},it={class:"key-text"},ut={class:"regenerate-section"},ct={class:"action-buttons"},vt=Oe({__name:"SettingsView",setup(o){const l=Ue(),t=Ve(),i=Ae(),{setNetworkAccelerationEnabled:c,broadcastNetworkAccelerationStatus:ee,broadcastUserInfoUpdate:fe}=i,k=d(""),M=d(""),O=d(null),A=d(null),B=d(!1),u=d(!1),C=d(!1),p=d(!1),I=d(!1),m=d(20),U=d(20),y=d(5),N=d(5),$=d(!1),H=d(""),te=d("info"),ae=d(!1),J=d(!1),ne=d(!1);Ce(async()=>{if(await t.loadUserInfo(),t.userInfo.username&&!t.isCryptoInitialized)try{await t.initCryptoKeys(),console.log("[SettingsView] Crypto keys initialized")}catch(e){console.error("[SettingsView] Failed to initialize crypto keys:",e)}console.log("[SettingsView] userInfo.avatar:",t.userInfo.avatar),k.value=t.userInfo.username||"",M.value=k.value,O.value=t.userInfo.avatar||null,console.log("[SettingsView] avatarPreview set to:",O.value),console.log("[SettingsView] final avatarPreview:",O.value,"type:",typeof O.value);const r=t.loadNetworkAcceleration();console.log("[SettingsView] Loaded network acceleration from store:",r),u.value=r,C.value=u.value,console.log("[SettingsView] networkAcceleration.value set to:",u.value),c(u.value),p.value=t.loadNetworkLogging(),I.value=p.value,m.value=t.loadDeviceCheckInterval(),U.value=m.value,y.value=t.loadDeviceCheckTimeout(),N.value=y.value,ae.value=!0}),W(ae,r=>{r&&console.log("[SettingsView] userInfoLoaded is true, form initialized")});const G=Ne(()=>k.value!==M.value||A.value!==null||B.value||u.value!==C.value||p.value!==I.value||m.value!==U.value||y.value!==N.value);W(u,(r,e)=>{console.log("[SettingsView] networkAcceleration changed:",{oldValue:e,newValue:r,original:C.value})}),W(G,r=>{console.log("[SettingsView] hasChanges changed:",{newValue:r})});function ge(r){R();const e=r.file,w="originFileObj"in e?e.originFileObj:e;if(w&&w instanceof File){if(!w.type.startsWith("image/")){v("è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶","error");return}if(w.size>2*1024*1024){v("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB","error");return}A.value=w;const x=new FileReader;x.onload=D=>{O.value=D.target?.result},x.readAsDataURL(w)}}function pe(){B.value=!0,O.value=null,A.value=null}async function me(){R();const r=u.value!==C.value,e=p.value!==I.value,w=m.value!==U.value||y.value!==N.value,x=A.value!==null||B.value;if(!k.value.trim()&&!r&&!e&&!w&&!x){v("ç”¨æˆ·åä¸èƒ½ä¸ºç©º","warning");return}if(!(k.value.trim()!=="")&&(r||e||w||x)){$.value=!0;try{r&&(console.log("[Settings] Saving network acceleration:",u.value),t.setNetworkAcceleration(u.value),c(u.value),console.log("[Settings] Network acceleration saved:",u.value),await ee(),v(u.value?"å·²å¼€å¯ç½‘ç»œåŠ é€Ÿ":"å·²å…³é—­ç½‘ç»œåŠ é€Ÿ","success")),e&&(t.setNetworkLogging(p.value),v(p.value?"å·²å¼€å¯ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•":"å·²å…³é—­ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•","success")),w&&(m.value!==U.value&&(t.setDeviceCheckInterval(m.value),v("è®¾å¤‡çŠ¶æ€æ£€æµ‹é—´éš”å·²æ›´æ–°ä¸º "+m.value+" ç§’","success")),y.value!==N.value&&(t.setDeviceCheckTimeout(y.value),v("è®¾å¤‡çŠ¶æ€æ£€æµ‹è¶…æ—¶å·²æ›´æ–°ä¸º "+y.value+" ç§’","success"))),C.value=u.value,I.value=p.value,U.value=m.value,N.value=y.value,v("è®¾ç½®å·²ä¿å­˜","success")}catch(f){console.error("[Settings] Save error:",f),v("ä¿å­˜å¤±è´¥","error")}finally{$.value=!1}return}$.value=!0;try{const f=k.value.trim(),T=O.value;console.log("[Settings] Saving user info:",{newUsername:f,newAvatar:T,currentUsername:t.userInfo.username});const F=f!==M.value,P=T!==t.userInfo.avatar;console.log("[Settings] Changes detected:",{hasUsernameChange:F,hasAvatarChange:P}),await t.saveUserInfo({username:f,avatar:T}),console.log("[Settings] User info saved. Current userStore.userInfo.username:",t.userInfo.username),(F||P)&&(await fe(),console.log("[Settings] User info update broadcasted to all devices")),console.log("[Settings] Network acceleration save check:",{current:u.value,original:C.value,shouldSave:u.value!==C.value}),u.value!==C.value&&(t.setNetworkAcceleration(u.value),c(u.value),console.log("[Settings] Network acceleration saved:",u.value),await ee(),v(u.value?"å·²å¼€å¯ç½‘ç»œåŠ é€Ÿ":"å·²å…³é—­ç½‘ç»œåŠ é€Ÿ","success")),p.value!==I.value&&(t.setNetworkLogging(p.value),v(p.value?"å·²å¼€å¯ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•":"å·²å…³é—­ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•","success")),m.value!==U.value&&(t.setDeviceCheckInterval(m.value),v("è®¾å¤‡çŠ¶æ€æ£€æµ‹é—´éš”å·²æ›´æ–°ä¸º "+m.value+" ç§’","success")),y.value!==N.value&&(t.setDeviceCheckTimeout(y.value),v("è®¾å¤‡çŠ¶æ€æ£€æµ‹è¶…æ—¶å·²æ›´æ–°ä¸º "+y.value+" ç§’","success")),M.value=k.value,C.value=u.value,I.value=p.value,A.value=null,v("è®¾ç½®å·²ä¿å­˜","success"),B.value=!1}catch(f){console.error("[Settings] Save error:",f),v("ä¿å­˜å¤±è´¥","error")}finally{$.value=!1}}function ye(){k.value=M.value,O.value=t.userInfo.avatar,A.value=null,u.value=C.value,p.value=I.value,m.value=U.value,y.value=N.value}function be(){l.push("/center")}function v(r,e="info"){H.value=r,te.value=e}function R(){H.value=""}function le(r){return r.length<40?r:`${r.substring(0,20)}...${r.substring(r.length-20)}`}async function oe(r,e){R();try{await navigator.clipboard.writeText(r),v(`${e}å·²å¤åˆ¶åˆ°å‰ªè´´æ¿`,"success")}catch(w){console.error("[Settings] Failed to copy to clipboard:",w),v("å¤åˆ¶å¤±è´¥","error")}}async function he(){R(),J.value=!0;try{await t.regenerateCryptoKeys(),v("å¯†é’¥å·²é‡æ–°ç”Ÿæˆ","success")}catch(r){console.error("[Settings] Failed to regenerate keys:",r),v("å¯†é’¥ç”Ÿæˆå¤±è´¥","error")}finally{J.value=!1}}return(r,e)=>{const w=h("a-input"),x=h("a-form-item"),D=h("a-avatar"),f=h("a-button"),T=h("a-upload"),F=h("a-form"),P=h("a-card"),L=h("a-col"),se=h("a-switch"),j=h("a-alert"),re=h("a-input-number"),we=h("a-collapse-panel"),_e=h("a-collapse"),ke=h("a-popconfirm"),Se=h("a-row");return S(),E("div",Ee,[a(Se,{gutter:[16,16]},{default:n(()=>[a(L,{xs:24,md:12},{default:n(()=>[a(P,{title:"ç”¨æˆ·ä¿¡æ¯",bordered:!1},{extra:n(()=>[a(g(Z))]),default:n(()=>[a(F,{layout:"vertical"},{default:n(()=>[a(x,{label:"ç”¨æˆ·å"},{default:n(()=>[a(w,{value:k.value,"onUpdate:value":e[0]||(e[0]=b=>k.value=b),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",maxlength:20,"show-count":"","allow-clear":""},null,8,["value"])]),_:1}),a(x,{label:"å¤´åƒ"},{default:n(()=>[s("div",Ke,[O.value?(S(),z(D,{key:0,size:80,src:O.value},{default:n(()=>[_(V(k.value.charAt(0).toUpperCase()),1)]),_:1},8,["src"])):(S(),z(D,{key:1,size:80},{default:n(()=>[_(V(k.value.charAt(0).toUpperCase()),1)]),_:1})),s("div",Je,[a(T,{"before-upload":()=>!1,onChange:ge,"show-upload-list":!1,accept:"image/*"},{default:n(()=>[a(f,{size:"small"},{icon:n(()=>[...e[10]||(e[10]=[_("ğŸ“·",-1)])]),default:n(()=>[e[11]||(e[11]=_(" é€‰æ‹©å›¾ç‰‡ ",-1))]),_:1})]),_:1}),O.value?(S(),z(f,{key:0,size:"small",danger:"",onClick:pe,"aria-label":"remove-avatar-button"},{default:n(()=>[...e[12]||(e[12]=[_(" ç§»é™¤ ",-1)])]),_:1})):q("",!0)])]),e[13]||(e[13]=s("div",{class:"avatar-hint"}," æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 2MB ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),a(L,{xs:24,md:12},{default:n(()=>[a(P,{title:"ç½‘ç»œåŠ é€Ÿ",bordered:!1},{extra:n(()=>[a(g(Y))]),default:n(()=>[s("div",Ge,[e[14]||(e[14]=s("p",{class:"description"}," å¼€å¯ç½‘ç»œåŠ é€Ÿåï¼Œæ‚¨çš„è®¾å¤‡å¯ä»¥å¸®åŠ©å…¶ä»–è®¾å¤‡è½¬å‘æ¶ˆæ¯ã€‚ åŒæ—¶ï¼Œå½“æ‚¨ä¸æŸäº›è®¾å¤‡ç›´è¿å¤±è´¥æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–å¼€å¯ç½‘ç»œåŠ é€Ÿçš„è®¾å¤‡ä¸­è½¬æ¶ˆæ¯ã€‚ ",-1)),a(se,{checked:u.value,"onUpdate:checked":e[1]||(e[1]=b=>u.value=b),"checked-children":"å¼€å¯","un-checked-children":"å…³é—­","aria-label":"network-acceleration-switch"},null,8,["checked"]),s("div",We,[u.value?(S(),z(j,{key:0,type:"info","show-icon":"",message:"ç½‘ç»œåŠ é€Ÿå·²å¼€å¯",description:"æ‚¨æ­£åœ¨å¸®åŠ©å…¶ä»–è®¾å¤‡è½¬å‘æ¶ˆæ¯ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è®¾å¤‡çš„ä¸­è½¬æœåŠ¡ã€‚"})):(S(),z(j,{key:1,type:"warning","show-icon":"",message:"ç½‘ç»œåŠ é€Ÿå·²å…³é—­",description:"æ‚¨ä¸ä¼šå¸®åŠ©å…¶ä»–è®¾å¤‡è½¬å‘æ¶ˆæ¯ï¼Œå…¶ä»–è®¾å¤‡ä¹Ÿä¸ä¼šå¸®åŠ©æ‚¨è½¬å‘æ¶ˆæ¯ã€‚æ‰€æœ‰é€šä¿¡å‡ä¸ºç›´è¿ã€‚"}))])])]),_:1})]),_:1}),a(L,{xs:24,md:12},{default:n(()=>[a(P,{title:"ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•",bordered:!1},{extra:n(()=>[a(g(xe))]),default:n(()=>[s("div",qe,[e[18]||(e[18]=s("p",{class:"description"}," å¼€å¯ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•åï¼Œæ‰€æœ‰çš„ PeerJS è¯·æ±‚å’Œå“åº”æ•°æ®éƒ½ä¼šè¢«è®°å½•åˆ°æœ¬åœ° IndexedDB ä¸­ã€‚ è¿™å¯¹äºè°ƒè¯•ç½‘ç»œé—®é¢˜å’Œåˆ†æé€šä¿¡æ•°æ®éå¸¸æœ‰ç”¨ã€‚ ",-1)),a(se,{checked:p.value,"onUpdate:checked":e[2]||(e[2]=b=>p.value=b),"checked-children":"å¼€å¯","un-checked-children":"å…³é—­","aria-label":"network-logging-switch"},null,8,["checked"]),s("div",Qe,[p.value?(S(),z(j,{key:0,type:"info","show-icon":"",message:"ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•å·²å¼€å¯"},{description:n(()=>[e[16]||(e[16]=s("div",null,"æ‰€æœ‰çš„ç½‘ç»œé€šä¿¡æ•°æ®éƒ½ä¼šè¢«è®°å½•åˆ°æœ¬åœ°æ•°æ®åº“ä¸­ã€‚",-1)),s("div",Xe,[a(f,{type:"link",size:"small",onClick:e[3]||(e[3]=b=>g(l).push("/network-log")),style:{padding:"0"}},{default:n(()=>[...e[15]||(e[15]=[_(" æŸ¥çœ‹ç½‘ç»œæ•°æ®æ—¥å¿— â†’ ",-1)])]),_:1})])]),_:1})):(S(),z(j,{key:1,type:"warning","show-icon":"",message:"ç½‘ç»œæ•°æ®æ—¥å¿—è®°å½•å·²å…³é—­"},{description:n(()=>[...e[17]||(e[17]=[_(' ç½‘ç»œé€šä¿¡æ•°æ®ä¸ä¼šè¢«è®°å½•ã€‚å¼€å¯åå¯åœ¨"ç½‘ç»œæ•°æ®æ—¥å¿—"é¡µé¢æŸ¥çœ‹è®°å½•çš„æ•°æ®ã€‚ ',-1)])]),_:1}))])])]),_:1})]),_:1}),a(L,{xs:24,md:12},{default:n(()=>[a(P,{title:"è®¾å¤‡çŠ¶æ€æ£€æµ‹",bordered:!1},{extra:n(()=>[a(g(Pe))]),default:n(()=>[s("div",Ye,[e[21]||(e[21]=s("p",{class:"description"}," é…ç½®è®¾å¤‡åœ¨çº¿çŠ¶æ€æ£€æµ‹çš„æ—¶é—´é—´éš”å’Œè¶…æ—¶æ—¶é—´ã€‚ è¾ƒçŸ­çš„é—´éš”å¯ä»¥æ›´å¿«å‘ç°è®¾å¤‡ç¦»çº¿ï¼Œä½†ä¼šå¢åŠ ç½‘ç»œæµé‡ã€‚ ",-1)),a(F,{layout:"vertical"},{default:n(()=>[a(x,{label:"æ£€æµ‹é—´éš”ï¼ˆç§’ï¼‰"},{default:n(()=>[a(re,{value:m.value,"onUpdate:value":e[4]||(e[4]=b=>m.value=b),min:5,max:600,step:5,style:{width:"100%"},"aria-label":"device-check-interval-input"},null,8,["value"]),e[19]||(e[19]=s("div",{class:"hint-text"}," èŒƒå›´ï¼š5-600 ç§’ï¼Œé»˜è®¤ 20 ç§’ ",-1))]),_:1}),a(x,{label:"è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰"},{default:n(()=>[a(re,{value:y.value,"onUpdate:value":e[5]||(e[5]=b=>y.value=b),min:3,max:30,step:1,style:{width:"100%"},"aria-label":"device-check-timeout-input"},null,8,["value"]),e[20]||(e[20]=s("div",{class:"hint-text"}," èŒƒå›´ï¼š3-30 ç§’ï¼Œé»˜è®¤ 5 ç§’ã€‚è¶…æ—¶åè®¾å¤‡å°†è¢«æ ‡è®°ä¸ºç¦»çº¿ ",-1))]),_:1})]),_:1}),s("div",Ze,[a(j,{type:"info","show-icon":"",message:"è®¾å¤‡çŠ¶æ€æ£€æµ‹é…ç½®"},{description:n(()=>[s("div",null,"å½“å‰é…ç½®ï¼šæ¯ "+V(m.value)+" ç§’æ£€æµ‹ä¸€æ¬¡ï¼Œè¶…æ—¶æ—¶é—´ä¸º "+V(y.value)+" ç§’",1)]),_:1})])])]),_:1})]),_:1}),a(L,{xs:24,md:12},{default:n(()=>[a(P,{title:"æ•°å­—ç­¾å",bordered:!1},{extra:n(()=>[a(g(Q))]),default:n(()=>[s("div",et,[e[27]||(e[27]=s("p",{class:"description"}," æ•°å­—ç­¾åç”¨äºéªŒè¯æ‚¨çš„èº«ä»½ã€‚å…¬é’¥å¯ä»¥ä¸ä»–äººå…±äº«ï¼Œç”¨äºéªŒè¯æ‚¨çš„æ¶ˆæ¯ç­¾åã€‚ç§é’¥è¯·å¦¥å–„ä¿ç®¡ï¼Œåˆ‡å‹¿æ³„éœ²ã€‚ ",-1)),g(t).isCryptoInitialized?(S(),E("div",at,[s("div",nt,[e[23]||(e[23]=s("div",{class:"key-label"},"æˆ‘çš„å…¬é’¥",-1)),s("div",lt,[s("code",ot,V(le(g(t).myPublicKey||"")),1),a(f,{size:"small",type:"text",onClick:e[6]||(e[6]=b=>oe(g(t).myPublicKey||"","å…¬é’¥")),"aria-label":"copy-public-key-button"},{icon:n(()=>[a(g(ie))]),default:n(()=>[e[22]||(e[22]=_(" å¤åˆ¶ ",-1))]),_:1})])]),a(_e,{activeKey:ne.value,"onUpdate:activeKey":e[8]||(e[8]=b=>ne.value=b),class:"private-key-collapse"},{default:n(()=>[a(we,{key:"privateKey",header:"æŸ¥çœ‹ç§é’¥ï¼ˆè¯·å‹¿æ³„éœ²ï¼‰"},{default:n(()=>[s("div",st,[s("div",rt,[s("code",it,V(le(g(t).myPrivateKey||"")),1),a(f,{size:"small",type:"text",onClick:e[7]||(e[7]=b=>oe(g(t).myPrivateKey||"","ç§é’¥")),"aria-label":"copy-private-key-button"},{icon:n(()=>[a(g(ie))]),default:n(()=>[e[24]||(e[24]=_(" å¤åˆ¶ ",-1))]),_:1})])])]),_:1})]),_:1},8,["activeKey"]),s("div",ut,[a(ke,{title:"é‡æ–°ç”Ÿæˆå¯†é’¥åï¼Œæ—§çš„å¯†é’¥å°†å¤±æ•ˆã€‚å…¶ä»–è®¾å¤‡éœ€è¦é‡æ–°è·å–æ‚¨çš„å…¬é’¥ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ","ok-text":"ç¡®å®š","cancel-text":"å–æ¶ˆ",onConfirm:he},{default:n(()=>[a(f,{type:"primary",danger:"",loading:J.value,"aria-label":"regenerate-keys-button"},{icon:n(()=>[a(g(ze))]),default:n(()=>[e[25]||(e[25]=_(" é‡æ–°ç”Ÿæˆå¯†é’¥ ",-1))]),_:1},8,["loading"])]),_:1}),a(f,{type:"link",size:"small",onClick:e[9]||(e[9]=b=>g(l).push("/center")),"aria-label":"go-to-center-for-device-keys"},{icon:n(()=>[a(g(Le))]),default:n(()=>[e[26]||(e[26]=_(" åœ¨å‘ç°ä¸­å¿ƒæŸ¥çœ‹è®¾å¤‡å…¬é’¥ ",-1))]),_:1})])])):(S(),E("div",tt,[a(j,{type:"warning","show-icon":"",message:"å¯†é’¥æœªåˆå§‹åŒ–",description:"æ•°å­—ç­¾åå¯†é’¥å¯¹å°šæœªåˆå§‹åŒ–ï¼Œè¯·ä¿å­˜ç”¨æˆ·ä¿¡æ¯ååˆ·æ–°é¡µé¢ã€‚"})]))])]),_:1})]),_:1}),a(L,{span:24},{default:n(()=>[H.value?(S(),E("div",{key:0,class:Ie(["inline-message",`inline-message-${te.value}`])},V(H.value),3)):q("",!0),s("div",ct,[a(f,{type:"primary",loading:$.value,disabled:!G.value,onClick:me,"aria-label":"save-settings-button"},{icon:n(()=>[a(g(X))]),default:n(()=>[e[28]||(e[28]=_(" ä¿å­˜è®¾ç½® ",-1))]),_:1},8,["loading","disabled"]),G.value?(S(),z(f,{key:0,onClick:ye},{default:n(()=>[...e[29]||(e[29]=[_(" å–æ¶ˆ ",-1)])]),_:1})):q("",!0),a(f,{onClick:be},{default:n(()=>[...e[30]||(e[30]=[_(" è¿”å›å‘ç°ä¸­å¿ƒ ",-1)])]),_:1})])]),_:1})]),_:1})])}}}),wt=je(vt,[["__scopeId","data-v-de1353e9"]]);export{wt as default};
