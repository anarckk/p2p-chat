用户个人信息，要有一个数据版本号，定时器每隔10分钟询问其他用户是否在线的时候，要将自己的个人信息版本号发送给其他用户。其他用户要存储下来这个用户的个人信息版本号。如果个人信息版本号不一致，那么就要请求这个用户的个人信息，拉取他的用户名和头像，在页面上做一个更新。
同样的，我做为被动发现的一方，另一方请求我，问我是否在线，我要及时告诉他，我在线。这是常规的。同时还要根据他发来的个人信息版本号检查他的个人信息是否有更新，如果有更新，那么我就要去拉取他的个人信息。