session_id:fca9c3f2-fd08-4001-ab44-bdf7d28e6e5e

你的整理很好
```
为什么要四段？
第一段：只传版本号，避免大数据量发送给离线设备
第二段：确保双方在线才传真实内容
第三段：传输实际消息
第四段：送达确认，让发送方知道对方已收到
```
这引发了我的思考，网络环境是复杂难预测的，任何一步都有可能出错。
我们的目的是在复杂的不稳定的网络中，构建可靠可预测的系统。
这就得在通信上，多做思考。